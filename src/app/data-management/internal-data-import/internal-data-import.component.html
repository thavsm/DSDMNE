<div class="main-content">
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="header text-center">
                <h3 class="title">Internal Data Import</h3>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <hr>
                    <kendo-grid [kendoGridBinding]="internalDataList" [navigable]="true" [filterable]="true"
                        [pageSize]="pageSize" [skip]="skip" [pageable]="true">
                        <kendo-grid-column field="uploadName" title="Upload Name"></kendo-grid-column>
                        <kendo-grid-column field="folderLocation" title="Folder Location"></kendo-grid-column>
                        <kendo-grid-column field="timestamp" title="Timestamp"></kendo-grid-column>
                        <kendo-grid-column title="Edit">
                            <ng-template kendoGridCellTemplate let-element>
                                <button mat-icon-button (click)="clickEdit(element)">
                                    <mat-icon class="mat-14">edit</mat-icon>
                                </button>
                            </ng-template>
                        </kendo-grid-column>
                        <kendo-grid-column title="View">
                            <ng-template kendoGridCellTemplate>
                                <button mat-icon-button (click)="ViewPatientInfo()">
                                    <mat-icon class="mat-14">visibility</mat-icon>
                                </button>
                            </ng-template>
                        </kendo-grid-column>
                    </kendo-grid>
                </div>
            </div>

        </div>
    </div>
    <ngx-spinner bdColor="rgba(	237, 237, 237,0.8)" size="medium" color="black" type="ball-scale-multiple">
        <p style="font-size: 20px; color: black">Processing...</p>
    </ngx-spinner>

    <div class="container" style="margin-top:50px;">
        <div class="" style="text-align: center;">
            <button class="btn btn-md btn-primary" (click)="accordion.openAll()">
                Add Import
            </button>
        </div>

        <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel style="margin-top: 20px;" [(expanded)]="xpandStatus">
                <mat-expansion-panel-header style="background-color:rgb(218, 218, 218);">
                    <mat-panel-title>
                        Field Names
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div mat-dialog-content>

                    <div class="form-group">
                        <label style="font-size: medium;">Import Name</label>
                        <input type="text" class="form-control" value="{{ImportAdd.uploadName}}" [(ngModel)]="ImportAdd.uploadName">
                    </div>

                    <div class="form-group">
                        <mat-form-field appearance="outline">
                            <mat-label>Import Type</mat-label>
                            <mat-select [(ngModel)]="ImportAdd.dataTypeId">
                                <mat-option *ngFor="let c of ImportType" [value]="c.dataTypeId">
                                    {{c.description}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="form-group">
                        <mat-form-field appearance="outline">
                            <mat-label>Data Type</mat-label>
                            <mat-select [(ngModel)]="ImportAdd.uploadTypeId" (selectionChange)="onDataTypeChange($event)">
                                <mat-option *ngFor="let c of DataType" [value]="c.uploadTypeId">
                                    {{c.description}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="form-group">
                        <mat-form-field appearance="outline">
                            <mat-label>Table Structure</mat-label>
                            <mat-select [(ngModel)]="ImportAdd.uploadTableStructureId">
                                <mat-option *ngFor="let c of TableStructure" [value]="c.uploadTableStructureId">
                                    {{c.description}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="form-group" *ngIf="divUsername">
                        <label style="font-size: medium;">Username</label>
                        <input type="text" class="form-control" value="{{ImportAdd.username}}" [(ngModel)]="ImportAdd.username">
                    </div>

                    <div class="form-group" *ngIf="divPassword">
                        <label style="font-size: medium;">Password</label>
                        <input type="text" class="form-control" value="{{ImportAdd.password}}" [(ngModel)]="ImportAdd.password">
                    </div>

                    <div class="container">
                        <dual-list [source]="source" [(destination)]="target" height="150px"  [key]="fieldNameId" [display]="fieldName"></dual-list>
                    </div>

                </div>

                <!-- <div style="margin-top: 20px;">
                    <mat-form-field appearance="fill">
                        <mat-label>Import Name</mat-label>
                        <input matInput placeholder="Import Name" [formControl]="name">
                    </mat-form-field>
                    <div style="float:right;width:60%;margin-right:-330px;position:relative;bottom:74px;">
                        <mat-form-field appearance="fill">
                            <mat-label>User Name</mat-label>
                            <input matInput placeholder="User Name">
                        </mat-form-field>
                        <mat-form-field appearance="fill">
                            <mat-label>Password</mat-label>
                            <input matInput placeholder="Password">
                        </mat-form-field>
                    </div>
                </div>
                <div>
                    <mat-form-field>
                        <mat-label>Import Type:</mat-label>
                        <mat-select placeholder="Select Import Type">
                            <mat-option value="option">Option</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field>
                        <mat-label>Data Type:</mat-label>
                        <mat-select placeholder="Select Data Type">
                            <mat-option value="option">Option</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field>
                        <mat-label>Table Structure:</mat-label>
                        <mat-select placeholder="Select Import Type">
                            <mat-option value="option">Option</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <hr />
                <div class="containerlist">
                    <mat-label>Field Names:</mat-label>
                    <ul class="listboxul">
                        <p>LIST 1</p>
                        <li *ngFor="let item of list1" [class.item-selected]="item.selected"
                            (click)="toggleSelection(item, 1)">{{item.text}}</li>
                    </ul>
                    <div class="buttons-container">
                        <button kendoButton [icon]="'arrow-60-right'" (click)="moveSelected('right')"></button>
                        <button kendoButton [icon]="'arrow-double-60-right'" (click)="moveAll('right')"></button>
                        <button kendoButton [icon]="'arrow-60-left'" (click)="moveSelected('left')"></button>
                        <button kendoButton [icon]="'arrow-double-60-left'" (click)="moveAll('left')"></button>
                    </div>
                    <ul class="listboxul">
                        <p>LIST 2</p>
                        <li *ngFor="let item of list2" [class.item-selected]="item.selected"
                            (click)="toggleSelection(item, 2)">{{item.text}}</li>
                    </ul>
                </div>
                <div>
                    <mat-label>Select Table Columns from file: </mat-label>
                    <input type="text" />
                    <button mat-raised-button color="accent" style="background-color:#fff;color: #000;">Select</button>
                </div>
                <div style="margin-top: 20px;">
                    <button mat-raised-button color="accent">
                        Extract Field Names
                    </button>
                    <button mat-raised-button color="accent" style="position: relative;left: 840px;">
                        Save
                    </button>
                </div> -->
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>

