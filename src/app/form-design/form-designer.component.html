
<div class="main-content">
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="row">
                <div>
                    <div cdkDropListGroup>
                        <!-- Form type list -->
                        <div class="example-container"
                            style="margin-left: 0%;width: 200px;height: 50px;position: fixed;">
                            <!-- Header Of form types -->
                            <h2>Field Types</h2>
                            <!-- <p>Drag field types to form design on the right</p> -->
                            <!-- Header Of form types end-->
                            <!-- Form types -->
                            <div cdkDropList [cdkDropListData]="fieldTypes">
                                <div *ngFor="let item of fieldTypes" cdkDrag
                                    style="text-align: left;font-size: small;height: 35px;background-color: whitesmoke;border-color: rgb(207, 204, 204);border-style: outset;border-width: 0.5px;">
                                    <p style="color: black;font-weight:500;">
                                        <mat-icon style="font-size: 20px">{{item.fieldType.description}}</mat-icon>
                                        {{item.fieldType.displayName}}
                                    </p>
                                </div>
                            </div>
                            <!-- Form types end-->
                        </div>

                        <!-- Form Design Layout -->
                        <div class="example-container" style="width: 700px;margin-left: 35%;text-align:center;">
                            <!-- Header Of form builder -->
                            <h2>{{formData.formName}}</h2>
                            <h4>{{formData.formDescription}}</h4>
                            <div style="margin-left: 32%;width: 250px;">
                                <!-- <mat-icon>save</mat-icon> -->
                                <button class="btn btn-sm"
                                    style="background-color: crimson;color: white;font-weight: 400;width: 100px;"
                                    (click)="savePage()">Save</button>
                            </div>
                            <div style="height: 10px;"></div>
                            <div style="margin-left: 32%;width: 250px;">
                                <h5>{{currentPage.name}}</h5>
                            </div>

                            <!-- Form Builder -->
                            <div cdkDropList [cdkDropListData]="formDesign" class="example-list"
                                (cdkDropListDropped)="drop($event)" style="background: gainsboro;">
                                <div class="example-box" *ngFor="let item of formDesign;let i= index;" cdkDrag 
                                    style="border-color: darkgrey;border-style:dashed;border-width: 2px;" [style.background]="item.fieldStyles[0].cssClass">
                                    <!-- Attachment Type -->
                                    <div *ngIf="item.fieldType.value=='attachment' && item.isActive===true"
                                        style="width: 700px;">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                       
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                   <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Maximum File Size: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter max file size here" [(ngModel)]="item.fieldValidations[0].dataLength"/>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                           <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <td mat-cell>
                                                            <label style="color: black;">Required: </label>
                                                        </td>
                                                        <td mat-cell>
                                                            <mat-checkbox class="example-margin"
                                                                [(ngModel)]="item.fieldValidations[0].isRequired">
                                                            </mat-checkbox>
                                                        </td>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Calculation Type -->
                                    <div *ngIf="item.fieldType.value=='calculation' && item.isActive===true"
                                        style="text-align: center;">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"/>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                       
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Calculation: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <textarea class="form-control" style="width:300px;"
                                                                    readonly [(ngModel)]="item.calculation"></textarea>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline"
                                                                    *ngIf="greyedOut===false">
                                                                    <mat-label>{{operationField}}</mat-label>
                                                                    <mat-select style="width: 150px;"
                                                                        [(ngModel)]="value.data">
                                                                        <mat-option
                                                                            *ngFor="let fieldOp of fieldOperatorList"
                                                                            [value]="fieldOp.viewValue">
                                                                            {{fieldOp.viewValue}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                            <td mat-cell>
                                                                <button class="btn btn-sm"
                                                                    style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                                    (click)="addCalc(item)"
                                                                    *ngIf="greyedOut===false">Add to
                                                                    Calculation</button>
                                                                <button class="btn btn-sm"
                                                                    style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                                    (click)="clearCalc(i)"
                                                                    *ngIf="greyedOut===false">Clear Calculation</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Maximum File Size: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter max file size here" [(ngModel)]="item.fieldValidations[0].dataLength"/>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <td mat-cell>
                                                            <label style="color: black;">Required: </label>
                                                        </td>
                                                        <td mat-cell>
                                                            <mat-checkbox class="example-margin"
                                                                [(ngModel)]="item.fieldValidations[0].isRequired">
                                                            </mat-checkbox>
                                                        </td>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Checkbox/field or/lexicon data Type -->
                                    <div *ngIf="(item.fieldType.value=='lexicon data' || item.fieldType.value=='field or' || item.fieldType.value=='checkbox') && item.isActive===true"
                                        style="text-align: center;">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                       
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">List Values(Comma
                                                                    seperated): </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <textarea class="form-control" style="width:300px;"
                                                                    placeholder="e.g one,two,three"
                                                                    [(ngModel)]="item.listValue"></textarea>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Maximum File Size: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter max file size here" [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row></tr>
                                                        <td mat-cell>
                                                            <label style="color: black;">Required:</label>
                                                        </td>
                                                        <td mat-cell>
                                                            <mat-checkbox class="example-margin"
                                                                [(ngModel)]="item.fieldValidations[0].isRequired">
                                                            </mat-checkbox>
                                                        </td>
                                                        <tr>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Date Type -->
                                    <div *ngIf="item.fieldType.value=='date' && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Format: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Date Format </mat-label>
                                                                    <mat-select [(ngModel)]="item.childFieldName">
                                                                        <mat-option *ngFor="let format of dateFormats"
                                                                            [value]="format.value">
                                                                            {{format.displayName}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">                                                                     
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <td mat-cell>
                                                            <label style="color: black;">Required: </label>
                                                        </td>
                                                        <td mat-cell>
                                                            <mat-checkbox class="example-margin"
                                                                [(ngModel)]="item.fieldValidations[0].isRequired">
                                                            </mat-checkbox>
                                                        </td>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Time Type -->
                                    <div *ngIf="item.fieldType.value=='Time' && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                               <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Format: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Time Format </mat-label>
                                                                    <mat-select [(ngModel)]="item.childFieldName">
                                                                        <mat-option *ngFor="let format of timeFormats"
                                                                            [value]="format.value">
                                                                            {{format.displayName}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                       
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <td mat-cell>
                                                            <label style="color: black;">Required: </label>
                                                        </td>
                                                        <td mat-cell>
                                                            <mat-checkbox class="example-margin"
                                                                [(ngModel)]="item.fieldValidations[0].isRequired">
                                                            </mat-checkbox>
                                                        </td>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Group Type -->
                                    <div *ngIf="item.fieldType.value=='repeatgroup' && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label
                                            style="color: black;">{{item.group.name}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Group Information">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text" [(ngModel)]="item.group.name" style="width:300px;"
                                                                    placeholder="Enter group name here" [disabled]="(item.groupGUID!=='string')" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Required: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin" [(ngModel)]="item.group.isRequired"
                                                                    [disabled]="(item.groupGUID!=='string')"></mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                    
                                                            </td>
                                                            <td mat-cell>
                                                                <button class="btn btn-sm"
                                                                    style="background-color: crimson;color: white;font-weight: 400;width: 150px;"
                                                                    (click)="addGroup(item,i)" [disabled]="(item.groupGUID!=='string')">Add Group</button>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Section</mat-label>
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                       
                                                                        <mat-option *ngFor="let sub of sectionList" [value]="sub.groupGUID">
                                                                            {{sub.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Page Title Type -->
                                    <div *ngIf="item.fieldType.value=='PageTitle' && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Page Title Information">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Page Title</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text" [(ngModel)]="item.questionName" style="width:300px;"
                                                                    placeholder="Enter page title here" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Section Type -->
                                    <div *ngIf="item.fieldType.value=='section' && item.isActive===true" >
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.group.name}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Section Information">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Section Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.group.name" style="width:300px;"
                                                                    placeholder="Enter section name here" [disabled]="(item.groupGUID!=='string')" 
                                                                     />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;" >Required: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.group.isRequired" [disabled]="(item.groupGUID!=='string')"  ></mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>

                                                            </td>
                                                            <td mat-cell>
                                                                <button class="btn btn-sm"
                                                                    style="background-color: crimson;color: white;font-weight: 400;width: 150px;"
                                                                    (click)="addSection(item,i)" [disabled]="(item.groupGUID!=='string')" >Add Section</button>
                                                            </td>
                                                        </tr>                                                       
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Sub Section Type -->
                                    <div *ngIf="item.fieldType.value=='subSection' && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text" [(ngModel)]="item.questionName"
                                                                    style="width: 300px;" placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;">
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_group"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Section:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                   
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                        <mat-option *ngFor="let gs of groupSectionList" [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Text/Number Type -->
                                    <div
                                        *ngIf="(item.fieldType.value=='text' || item.fieldType.value=='number' || item.fieldType.value=='EmailAddress' || item.fieldType.value=='Alphanumeric') && item.isActive===true">
                                        <div style="margin-right: 96%;">
                                            <mat-icon>{{item.fieldType.description}}</mat-icon>
                                        </div>
                                        <label style="color: black;">{{item.questionName}}</label>
                                        <!--#region attributes tab  -->
                                        <div *ngIf="item.toggle" style="text-align: left;">
                                            <hr>
                                            <mat-tab-group mat-align-tabs="center" style="color: black;">
                                                <mat-tab label="Field Attributes">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Question Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;"
                                                                    placeholder="Enter question name here" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row  style="display: none;"> 
                                                            <td mat-cell>
                                                                <label style="color: black;">Field Name</label>
                                                                <label style="color: red;">*</label>
                                                                <label style="color: black;">:</label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    [(ngModel)]="item.fieldName" style="width:300px;"
                                                                    placeholder="Enter field name here" value="ua_"  />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Tooltip: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter tooltip here"
                                                                    [(ngModel)]="item.toolTip" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Group/Section: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-form-field appearance="outline">
                                                                    <mat-label>Select a Group/Section </mat-label>
                                                                   
                                                                    <mat-select [(ngModel)]="item.parentFieldName">
                                                                        
                                                                        <mat-option *ngFor="let gs of groupSectionList"
                                                                            [value]="gs.groupGUID">
                                                                            {{gs.name}}
                                                                        </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Style">
                                                    <br>
                                                   <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Width: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].width" />
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Height: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;" placeholder="Enter width here"
                                                                    [(ngModel)]="item.fieldStyles[0].height" />
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                                <mat-tab label="Field Validation">
                                                    <br>
                                                    <table mat-table>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Maximum Length: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <input class="form-control" type="text"
                                                                    style="width:300px;"
                                                                    placeholder="Enter max file size here" [(ngModel)]="item.fieldValidations[0].dataLength"/>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Editable: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isEditable">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Hidden: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isHidden">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                        <tr mat-row>
                                                            <td mat-cell>
                                                                <label style="color: black;">Required: </label>
                                                            </td>
                                                            <td mat-cell>
                                                                <mat-checkbox class="example-margin"
                                                                    [(ngModel)]="item.fieldValidations[0].isRequired">
                                                                </mat-checkbox>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </mat-tab>
                                            </mat-tab-group>
                                        </div>
                                        <!--#endregion -->
                                    </div>

                                    <!-- Toggle icons -->
                                    <div *ngIf="item.isActive===true">
                                        <hr>
                                        <mat-icon title="Collaspe Attributes" *ngIf="item.toggle"
                                            (click)="item.toggle=false">
                                            expand_less
                                        </mat-icon>
                                        <mat-icon title="Expand Attributes" *ngIf="!item.toggle"
                                            (click)="toggleValue(item)">expand_more
                                        </mat-icon>
                                        <mat-icon title="Delete Field" (click)="removeField(i)" *ngIf="item.fieldType.value!=='PageTitle'">delete</mat-icon>
                                    </div>
                                </div>
                                <!-- End div -->
                            </div>
                            <!-- Form Builder End -->
                        </div>
                    </div>
                </div>

                <!-- Page List -->
                <div style="width: 200px;position: fixed;margin-left: 65%;">
                    <h2>Pages</h2>
                    <button class="btn btn-sm"
                        style="background-color: crimson;color: white;font-weight: 400;width: 100px;"
                        (click)="addPage()">Add Page</button>
                    <div style="height: 10px;"></div>
                    <div class="example-list" style="text-align:center">
                        <div class="example-box" *ngFor="let page of pages;let i=index;"
                            style="text-align: center;font-size: small;background-color: white;color: black;font-weight:500;height: 1px;">
                            {{page.name}}
                            <div>
                                <mat-icon title="View Page" (click)="viewPage(i,page)">remove_red_eye</mat-icon>
                                <mat-icon title="Delete Page" (click)="removePage(i,page)">delete</mat-icon>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<ngx-spinner bdColor="rgba(       237, 237, 237,0.8)" size="medium" color="black" type="ball-scale-multiple">
    <p style="font-size: 20px; color: black">Processing...</p>
</ngx-spinner>
