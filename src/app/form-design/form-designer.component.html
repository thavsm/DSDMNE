<div class="main-content">
    <div class="container-fluid">
        <!-- <mat-icon (click)="closeForm()" matTooltip="Close form" color="warn"
        style="font-size: 40px;font-weight:bold;">close</mat-icon> -->
        <button class="btn btn-sm btn-primary" (click)="closeForm()">Close Form</button>
        <br>
        <br>
        <br>
        <div class="row justify-content-md-center">
            <div class="col-sm-2">
                <div style="position: fixed;">
                    <h5 matTooltip="1.Select a field type
                     2. Click Add Field button
                     3. The field type will add to the form"><b>Field Types</b></h5>
                    <mat-selection-list [(ngModel)]="field" [multiple]="false" [style.overflow]="'auto'"
                        [style.height.px]="'400'">
                        <mat-list-option *ngFor="let item of fieldTypes" style="height: 30px;" [value]="item">
                            <div style="font-size: small;text-align: left;">
                                <mat-icon matListIcon style="font-size: medium;">{{item.fieldType.description}}
                                </mat-icon>
                                {{item.fieldType.displayName}}
                            </div>
                        </mat-list-option>
                    </mat-selection-list>
                    <button class="btn btn-sm btn-primary" style="width: 150px;" (click)="addField()">Add
                        Field</button>
                </div>
            </div>
            <div class="col-sm-7 d-flex justify-content-center">
                <!-- Form Design Layout -->
                <div style="width: 500px;text-align:center;max-width: 100%;overflow-x: hidden;">
                    <!-- Header Of form builder -->
                    <h5 [style]=formStatus matTooltip="Yellow:Only Saved
                   Green:Saved and published"><b>{{formData.displayName}}</b></h5>
                    <h6>{{formData.formDescription}}</h6>
                    <div style="width: 500px;">
                        <!-- <mat-icon>save</mat-icon> -->
                        <button class="btn btn-sm btn-primary" (click)="savePage()">Save</button>

                        <button class="btn btn-sm btn-primary" (click)="publishPage()">Publish</button>

                        <!-- <button class="btn btn-sm btn-primary" (click)="previewPage()">Preview</button> -->
                    </div>
                    <div style="height: 10px;"></div>
                    <div style="width:500px;">
                        <h5>{{currentPage.name}}</h5>
                        <!-- <mat-icon style="font-size:large;" matTooltip="Copy Page" (click)="copyPage()">
                            content_copy</mat-icon>
                        <mat-icon style="font-size:large;" matTooltip="Paste Page" (click)="pastePage()">
                            content_paste</mat-icon> -->
                    </div>

                    <!-- Form Builder -->
                    <div cdkDropList [cdkDropListData]="formDesign" class="example-list"
                        (cdkDropListDropped)="drop($event)" style="background: gainsboro;">
                        <div class="example-box" *ngFor="let item of formDesign;let i= index;" cdkDrag
                            cdkDragLockAxis="y"
                            style="border-color: darkgrey;border-style:dashed;border-width: 2px;height: fit-content;width: 500px;"
                            [style.background]="item.fieldStyles[0].cssClass"
                            [cdkDragDisabled]="item.fieldType.value=='PageTitle' && item.isActive===true">

                            <!-- Calculation Type -->
                            <div *ngIf="item.fieldType.value=='calculation' && item.isActive===true"
                                style="text-align: left;">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <div style="font-size: 12px;">
                                                            <mat-form-field appearance="standard">
                                                                <input class="form-control" matInput type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;color: black;"
                                                                    placeholder="Enter question name here" />
                                                            </mat-form-field>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Calculation: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <textarea class="form-control" style="width:300px;"
                                                            [(ngModel)]="item.calculation"></textarea>
                                                    </td>
                                                </tr>
                                                <!-- <tr mat-row>
                                        <td mat-cell>
                                            <mat-form-field appearance="outline"
                                                *ngIf="greyedOut===false">
                                                <mat-label>{{operationField}}</mat-label>
                                                <mat-select style="width: 150px;"
                                                    [(ngModel)]="value.data">
                                                    <mat-option
                                                        *ngFor="let fieldOp of fieldOperatorList"
                                                        [value]="fieldOp.viewValue">
                                                        {{fieldOp.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </td>
                                        <td mat-cell>
                                            <button class="btn btn-sm"
                                                style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                (click)="addCalc(item)"
                                                *ngIf="greyedOut===false">Add to
                                                Calculation</button>
                                            <button class="btn btn-sm"
                                                style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                (click)="clearCalc(i)"
                                                *ngIf="greyedOut===false">Clear Calculation</button>
                                        </td>
                                    </tr> -->
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>

                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Information Type -->
                            <div *ngIf="item.fieldType.value=='information' && item.isActive===true"
                                style="text-align: center;">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Information: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <textarea class="form-control" style="width:300px;"
                                                            [(ngModel)]="item.calculation"></textarea>
                                                    </td>
                                                </tr>
                                                <!-- <tr mat-row>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline" *ngIf="greyedOut===false">
                                                            <mat-label>{{operationField}}</mat-label>
                                                            <mat-select style="width: 150px;">
                                                                <mat-option> Text fields</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                    <td mat-cell>
                                                        <button class="btn btn-sm"
                                                            style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                            (click)="addCalc(item)" *ngIf="greyedOut===false">Add to
                                                            Information</button>
                                                        <button class="btn btn-sm"
                                                            style="background-color: crimson;color: white;font-weight: 400;width: 200px;"
                                                            *ngIf="greyedOut===false">Clear Information</button>
                                                    </td>
                                                </tr> -->
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- field or/lexicon data Type-->
                            <div *ngIf="(item.fieldType.value=='lexicon data' || item.fieldType.value=='field or' || item.fieldType.value=='link multi select') && item.isActive===true"
                                style="text-align: center;">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input matInput type="text" #input
                                                                [(ngModel)]="item.questionName"
                                                                style="width: 300px;color: black;"
                                                                placeholder="Enter question name here" />
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>

                                                        <label style="color: black;">List Values <br />
                                                            (Comma separated): </label>

                                                    </td>
                                                    <td mat-cell>
                                                        <textarea class="form-control" style="width:300px;"
                                                            placeholder="e.g one,two,three"
                                                            [(ngModel)]="item.listValue"></textarea>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>

                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row></tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required:</label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                                <tr>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Checkbox-->
                            <div *ngIf="item.fieldType.value=='checkbox' && item.isActive===true"
                                style="text-align: center;">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>

                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Display Label</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <textarea class="form-control" style="width:300px;"
                                                            [(ngModel)]="item.listValue"></textarea>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row></tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required:</label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                                <tr>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Date Type -->
                            <div *ngIf="item.fieldType.value=='date' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="validateDateFriendlyName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                (blur)="validateDateFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                (blur)="validateDateDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Format: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Date Format </mat-label>
                                                            <mat-select [(ngModel)]="item.childFieldName">
                                                                <mat-option *ngFor="let format of dateFormats"
                                                                    [value]="format.displayName">
                                                                    {{format.displayName}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">
                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>

                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Time Type -->
                            <div *ngIf="item.fieldType.value=='Time' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="validateTimeFriendlyName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                (blur)="validateTimeFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                (blur)="validateTimeDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Format: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Time Format </mat-label>
                                                            <mat-select [(ngModel)]="item.childFieldName">
                                                                <mat-option *ngFor="let format of timeFormats"
                                                                    [value]="format.displayName">
                                                                    {{format.displayName}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>

                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Required: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin"
                                                        [(ngModel)]="item.fieldValidations[0].isRequired">
                                                    </mat-checkbox>
                                                </td>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>
                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Group Type -->
                            <div *ngIf="item.fieldType.value=='repeatgroup' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.group.name}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Group Information">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.group.name" style="width:300px;"
                                                            placeholder="Enter group name here"
                                                            [disabled]="(item.groupGUID!=='string')" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Required: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.group.isRequired"
                                                            [disabled]="(item.groupGUID!=='string')">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Section</mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">
                                                                <mat-option *ngFor="let sub of sectionList"
                                                                    [value]="sub.groupGUID">
                                                                    {{sub.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                    </td>
                                                    <td mat-cell>
                                                        <button class="btn btn-sm" class="btn btn-md btn-primary"
                                                            (click)="addGroup(item,i)"
                                                            [disabled]="(item.groupGUID!=='string')">Add
                                                            Group</button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!--Question Group Type -->
                            <div *ngIf="item.fieldType.value=='group' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.group.name}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Group Information">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.group.name" style="width:300px;"
                                                            placeholder="Enter group name here"
                                                            [disabled]="(item.groupGUID!=='string')" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Required: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.group.isRequired"
                                                            [disabled]="(item.groupGUID!=='string')">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Section</mat-label>
                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let sub of sectionList"
                                                                    [value]="sub.groupGUID">
                                                                    {{sub.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>

                                                    </td>
                                                    <td mat-cell>
                                                        <button class="btn btn-sm" class="btn btn-md btn-primary"
                                                            (click)="addQuestionGroup(item,i)"
                                                            [disabled]="(item.groupGUID!=='string')">Add
                                                            Group</button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Page Title Type -->
                            <div *ngIf="item.fieldType.value=='PageTitle' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Page Title</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <div style="font-size: 12px;">
                                                            <mat-form-field appearance="standard">
                                                                <input class="form-control" matInput type="text"
                                                                    [(ngModel)]="item.questionName"
                                                                    style="width: 300px;color: black;"
                                                                    placeholder="Enter page title here" />
                                                            </mat-form-field>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Section Type -->
                            <div *ngIf="item.fieldType.value=='section' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.group.name}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Section Information">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Section Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.group.name" style="width:300px;"
                                                            placeholder="Enter section name here"
                                                            [disabled]="(item.groupGUID!=='string')" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Required: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.group.isRequired"
                                                            [disabled]="(item.groupGUID!=='string')">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>

                                                    </td>
                                                    <td mat-cell>
                                                        <button class="btn btn-sm" class="btn btn-md btn-primary"
                                                            (click)="addSection(item,i)"
                                                            [disabled]="(item.groupGUID!=='string')">Add
                                                            Section</button>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Sub Section Type -->
                            <div *ngIf="item.fieldType.value=='subSection' && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Section:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>

                                                            <mat-select [(ngModel)]="item.parentFieldName">
                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Text-->
                            <div
                                *ngIf="(item.fieldType.value=='plaintext' || item.fieldType.value=='EmailAddress' || item.fieldType.value=='Alphanumeric' || item.fieldType.value=='plainalpha')&& item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>

                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <mat-tab label="Validation">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Required: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isRequired">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>

                                                    </td>
                                                </tr>
                                            </table>
                                            <!-- <h3><u>Advanced Validation</u></h3>
                                <h5>The response will be valid when the field is</h5>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Condition" #validCondition
                                        [(ngModel)]="item.validRules.condition">
                                        <mat-option value="==">Equal to</mat-option>
                                        <mat-option value="!=">Not Equal to</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <input type="text" matInput #ValidData placeholder="Enter value"
                                        [(ngModel)]="item.validRules.value">
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <label>Error message(optional):</label>
                                    <input type="text" matInput #ErrorMsg placeholder="Enter Error message"
                                        [(ngModel)]="item.validRules.errorMessage">
                                </mat-form-field>
                                <button class="btn btn-sm"
                                class="btn btn-md btn-primary"  
                                (click)="saveValidationRule(validCondition,ValidData,ErrorMsg,item)">Save
                                Rule</button>
                            <button class="btn btn-sm"
                                [disabled]="item.validRules.value==='' || item.validRules.condition===''"
                                 class="btn btn-md btn-primary"   
                                (click)="deleteValidationRule(validCondition,ValidData,ErrorMsg,item)">Delete
                                Rule</button> -->
                                        </mat-tab>
                                        <!-- <mat-tab>
                                <ng-template mat-tab-label>
                                    <span>Skip Logic</span>
                                </ng-template>
                                <div style="height: 10px;"></div>
                                <h5>This field will be</h5>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Option" #Option
                                        [(ngModel)]="item.skipRules.showSkip">
                                        <mat-option value="skipped">Skipped if</mat-option>
                                        <mat-option value="shown">Shown if</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Field" #Field
                                        [(ngModel)]="item.skipRules.field">
                                        <mat-option *ngFor="let gs of fieldList"
                                            [value]="gs.fieldName">
                                            {{gs.xmlElementName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Condition" #Condition
                                        [(ngModel)]="item.skipRules.condition">
                                        <mat-option value="==">Equal to</mat-option>
                                        <mat-option value="!=">Not Equal to</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <input type="text" matInput #Data placeholder="Enter value"
                                        [(ngModel)]="item.skipRules.value">
                                </mat-form-field>
                                <button class="btn btn-sm"
                                    class="btn btn-md btn-primary"  
                                    (click)="saveSkipRule(Option,Field,Condition,Data,item)">Save
                                    Rule</button>
                                <button class="btn btn-sm"
                                    [disabled]="item.skipRules.showSkip==='' || item.skipRules.field===''  || item.skipRules.condition===''  || item.skipRules.value==='' "
                                     class="btn btn-md btn-primary"   
                                    (click)="deleteSkipRule(Option,Field,Condition,Data,item)">Delete
                                    Rule</button>
                            </mat-tab> -->
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Number Type -->
                            <div
                                *ngIf="(item.fieldType.value=='number' || item.fieldType.value=='decimal')&& item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Tooltip: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter tooltip here"
                                                            [(ngModel)]="item.toolTip" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>

                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Style">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Width: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].width" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Height: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text" style="width:300px;"
                                                            placeholder="Enter width here"
                                                            [(ngModel)]="item.fieldStyles[0].height" />
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab> -->
                                        <mat-tab label="Validation">
                                            <br>

                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Maximum Length: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input type="number" min="1" class="form-control"
                                                            style="width:300px;" placeholder="Enter max length here"
                                                            [(ngModel)]="item.fieldValidations[0].dataLength" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Displayable:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.isDisplayable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Editable: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isEditable">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Hidden: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isHidden">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Required: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.fieldValidations[0].isRequired">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>

                                                    </td>
                                                </tr>
                                            </table>
                                            <!-- <h3><u>Advanced Validation</u></h3>
                                <h5>The response will be valid when the field is</h5>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Condition" #validCondition
                                        [(ngModel)]="item.validRules.condition">
                                        <mat-option value="==">Equal to</mat-option>
                                        <mat-option value="!=">Not Equal to</mat-option>
                                        <mat-option value=">">Greater than</mat-option>
                                        <mat-option value="<">Less than</mat-option>
                                        <mat-option value=">=">Greater than or Equal to</mat-option>
                                        <mat-option value="<=">Less than or Equal to</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <input type="text" matInput #ValidData placeholder="Enter value"
                                        [(ngModel)]="item.validRules.value">
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <label>Error message(optional):</label>
                                    <input type="text" matInput #ErrorMsg placeholder="Enter Error message"
                                        [(ngModel)]="item.validRules.errorMessage">
                                </mat-form-field>
                                <button class="btn btn-sm"
                                    class="btn btn-md btn-primary"  
                                    (click)="saveValidationRule(validCondition,ValidData,ErrorMsg,item)">Save
                                    Rule</button>
                                <button class="btn btn-sm"
                                    [disabled]="item.validRules.value==='' || item.validRules.condition===''"
                                     class="btn btn-md btn-primary"   
                                    (click)="deleteValidationRule(validCondition,ValidData,ErrorMsg,item)">Delete
                                    Rule</button> -->
                                        </mat-tab>
                                        <!-- <mat-tab>
                                <ng-template mat-tab-label>
                                    <span>Skip Logic</span>
                                </ng-template>
                                <div style="height: 10px;"></div>
                                <h5>This field will be</h5>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Option" #Option
                                        [(ngModel)]="item.skipRules.showSkip">
                                        <mat-option value="skipped">Skipped if</mat-option>
                                        <mat-option value="shown">Shown if</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Field" #Field
                                        [(ngModel)]="item.skipRules.field">
                                        <mat-option *ngFor="let gs of fieldList"
                                            [value]="gs.fieldName">
                                            {{gs.xmlElementName}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <mat-select placeholder="Select Condition" #Condition
                                        [(ngModel)]="item.skipRules.condition">
                                        <mat-option value="==">Equal to</mat-option>
                                        <mat-option value="!=">Not Equal to</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field appearance="outline">
                                    <input type="text" matInput #Data placeholder="Enter value"
                                        [(ngModel)]="item.skipRules.value">
                                </mat-form-field>
                                <button class="btn btn-sm"
                                    class="btn btn-md btn-primary"  
                                    (click)="saveSkipRule(Option,Field,Condition,Data,item)">Save
                                    Rule</button>
                                <button class="btn btn-sm"
                                    [disabled]="item.skipRules.showSkip==='' || item.skipRules.field===''  || item.skipRules.condition===''  || item.skipRules.value==='' "
                                     class="btn btn-md btn-primary"   
                                    (click)="deleteSkipRule(Option,Field,Condition,Data,item)">Delete
                                    Rule</button>
                            </mat-tab> -->
                                        <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab>
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Signature/Drawing Type -->
                            <div
                                *ngIf="(item.fieldType.value=='signature' || item.fieldType.value=='imagearea') && item.isActive===true">
                                <div style="margin-right: 96%;">
                                    <mat-icon>{{item.fieldType.description}}</mat-icon>
                                </div>
                                <label style="color: black;">{{i+1}} {{item.questionName}}</label>
                                <!--#region attributes tab  -->
                                <div *ngIf="item.toggle" style="text-align: left;">
                                   
                                    <mat-tab-group mat-align-tabs="center" style="color: black;">
                                        <mat-tab label="Attributes">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Question Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <input class="form-control" type="text"
                                                            [(ngModel)]="item.questionName"
                                                            style="width: 300px;color: black;"
                                                            placeholder="Enter question name here" />
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Friendly Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #input
                                                                [(ngModel)]="item.xmlElementName" (keypress)="populateNames(item)" (blur)="populateNames(item)" matInput
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder=""
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{input.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Database Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text" #fieldNameinput
                                                                matInput [(ngModel)]="item.fieldName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                placeholder="" (blur)="removeBlankSpaceFieldName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{fieldNameinput.value?.length || 0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Data Export Name</label>
                                                        <label style="color: red;">*</label>
                                                        <label style="color: black;">:</label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field hintLabel="">
                                                            <input class="form-control" type="text"
                                                                [(ngModel)]="item.dataExportName"
                                                                style="width: 300px;color: black;" maxlength="100"
                                                                matInput #dataExportNameinput placeholder=""
                                                                (blur)="removeBlankSpaceDataExportName(item)"
                                                                onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==95) || (event.charCode >= 48 && event.charCode <= 57)" />
                                                            <mat-hint>{{dataExportNameinput.value?.length ||
                                                                0}}/100
                                                            </mat-hint>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Group/Section: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>Select a Group/Section </mat-label>

                                                            <mat-select [(ngModel)]="item.parentFieldName">

                                                                <mat-option *ngFor="let gs of groupSectionList"
                                                                    [value]="gs.groupGUID">
                                                                    {{gs.name}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </td>
                                                </tr>
                                            </table>
                                        </mat-tab>
                                        <!-- <mat-tab label="Attachments">
                                            <br>
                                            <table mat-table>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Photos: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasPhoto">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <tr mat-row>
                                                    <td mat-cell>
                                                        <label style="color: black;">Has Files: </label>
                                                    </td>
                                                    <td mat-cell>
                                                        <mat-checkbox class="example-margin"
                                                            [(ngModel)]="item.hasAttachment">
                                                        </mat-checkbox>
                                                    </td>
                                                </tr>
                                                <td mat-cell>
                                                    <label style="color: black;">Has Comments: </label>
                                                </td>
                                                <td mat-cell>
                                                    <mat-checkbox class="example-margin" [(ngModel)]="item.hasComment">
                                                    </mat-checkbox>
                                                </td>
                                            </table>

                                        </mat-tab> -->
                                    </mat-tab-group>
                                </div>
                                <!--#endregion -->
                            </div>

                            <!-- Toggle icons -->
                            <div *ngIf="item.isActive===true">            
                                <mat-icon title="Collapse Attributes" *ngIf="item.toggle" (click)="item.toggle=false">
                                    expand_less
                                </mat-icon>
                                <mat-icon title="Expand Attributes" *ngIf="!item.toggle" (click)="toggleValue(item)">
                                    expand_more
                                </mat-icon>
                                <mat-icon title="Delete Field" (click)="removeField(i)"
                                    *ngIf="item.fieldType.value!=='PageTitle'">delete</mat-icon>
                            </div>
                        </div>
                        <!-- End div -->
                    </div>
                </div>
            </div>
            <div class="col-sm ">
                <div style="position: fixed;">
                    <h5 matTooltip="1.To view a page: Click on the eye icon
                    2.To delete a page: Click on the bin icon"><b>Form Pages</b></h5>
                    <div class="example-list" style="text-align:center;width: 170px;background-color:rgb(238, 238, 238);" [style.overflow-y]="'auto'"
                    [style.height.px]="'400'">
                        <div class="example-box" *ngFor="let page of pages;let i=index;"
                            style="text-align: center;font-size: small;background-color:rgb(238, 238, 238);color: black;font-weight:500;height: 1px;">
                            {{page.name}}
                            <div>
                                <div class="row">
                                    <div class="col">
                                        <i class="fa fa-eye fa-lg" (click)="viewPage(i,page)"></i>
                                    </div>
                                    <div class="col">
                                        <i class="fa fa-trash fa-lg" (click)="removePage(i,page)"></i>
                                    </div>
                                </div>
                                <!-- <mat-icon title="View Page" (click)="viewPage(i,page)">remove_red_eye</mat-icon> -->
                                <!-- <mat-icon title="Delete Page" (click)="removePage(i,page)">delete</mat-icon> -->
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-sm btn-primary" style="width: 150px;" (click)="addPage()">Add Page</button>
                </div>
            </div>
        </div>
    </div>
</div>
<ngx-spinner bdColor="rgba(       237, 237, 237,0.8)" size="medium" color="black" type="ball-scale-multiple">
    <p style="font-size: 20px; color: black">Processing...</p>
</ngx-spinner>